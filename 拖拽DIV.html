<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>æ— </title>
        <style type="text/css">
            #div1 {
                width: 50px;
                height: 50px;
                margin: 0;
                padding: 0;
                position: absolute;
                background-color: red;
            }
        </style>
        <script>
            window.onload = function() {

                var oDiv = document.getElementById("div1");
                var disx = 0;
                var disy = 0;
              
                oDiv.onmousedown = function(ev) {
                    var oEvent = ev || event;
                    disx = oEvent.clientX - oDiv.offsetLeft;
                    disy = oEvent.clientY - oDiv.offsetTop;

                    document.onmousemove = function(ev) {
                        var oEvent = ev || event;
                        var l=oEvent.clientX - disx;
                        var t=oEvent.clientY - disy;
                        if(l<0)
                        {
                        	l=0;
                        }
                        else if(l>(document.documentElement.clientWidth-oDiv.offsetWidth))
                            {
                            	l=document.documentElement.clientWidth-oDiv.offsetWidth;
                            }
                        
                        if(t<0)
                        {
                        	t=0;
                        }
                        else if(t>(document.documentElement.clientHeight-oDiv.offsetHeight))
                            {
                            	t=document.documentElement.clientHeight-oDiv.offsetHeight;
                            }
                        
                        oDiv.style.left = l+ 'px' ;
                        oDiv.style.top = t+ 'px' ;
                    }

                    document.onmouseup = function() {
                        document.onmousemove = null;
                        document.onmouseup = null;
                    }
                     return false;
                }

            }
        </script>
    </head>
    <body>
        <div id="div1"></div>
    </body>
</html>
